# 进程 和 线程
进程：描述了CPU在运行指令及加载和保存上下文所需要的时间
线程：进程中更小的单位，描述的是执行一段指令所需要的时间

# JS单线程带来什么好处？
js引擎在js运行时会阻塞UI的渲染(阻塞渲染引擎的工作)  ==> js引擎线程和渲染线程是互斥的

##  为什么Javascript到现在还是单线程
因为js可以修改dom结构，如果在js执行的时候，UI线程还在工作，就可能导致不安全的渲染UI，得益与js是单线程运行的，可以达到节省内存的作用，节约上下文切换的时间

# 执行栈

# setTimeout是如何实现的？
1. 浏览器的页面是由消息队列 和 事件循环系统来驱动的
2. 渲染线程中所有运行在主线程的任务都需要添加到消息队列
3. 事件循环系统会按照顺序执行消息队列里面的任务
4. 要执行一段异步代码，需要首先将异步添加到消息队列，消息队列里面的任务是按照顺序执行的

# Event-loop
Task:
  microtask 微任务
  1. 把异步回调函数封装成一个宏任务，添加到消息队列的尾部，当循环系统执行的到该任务的时候执行回调函数
  2. 执行时机是在主函数执行结束之后，当前这个宏任务结束之前执行回调函数，这通常以微任务的形式体现

  - 微任务就是一个需要异步执行的函数，执行时机是在主函数执行结束之后，当前宏任务结束之前



  macrotask 宏任务
  包括：


微任务包括：process.nextTick,promise,promise.then,MutationObserver
宏任务包括：script,setTimeout,setInterval,setImmediate,I/O,UI渲染

执行顺序：
1. 首先执行同步任务，这属于宏任务
2. 当执行完所有的同步代码后，执行栈为空，查询是否有异步代码需要执行
3. 执行所有的微任务
4. 当执行完所有的微任务后，如果有必要，会渲染页面
5. 开始下一轮Event-loop,执行宏任务中的异步代码