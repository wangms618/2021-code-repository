# 变量提升
一段JS代码 --> 编译阶段 --> 执行阶段

# 为什么JavaScript会出现栈溢出
1. js执行全局代码时
2. 当调用一个函数的时候，函数体内的代码会编译
3. 当使用 eval 函数时，eval的代码也会被编译，并创建执行上下文

- 调用栈：就是用来管理函数调用 

# 作用域
ES6之前作用域只有两种：全局作用域 和 函数作用域

- 块级作用域 {}
<!-- for()不会创建作用域，但是它是一个块 -->

- 先查找词法环境，再查找变量环境

# 作用域链和闭包
- 作用域链
  词法作用域就是指作用域是由代码中的函数声明的位置来决定的，所以词法作用域是静态的作用域。词法作用域直接决定作用域链的走向。


- 闭包
  在JavaScript中，根据词法作用域的规则，内部函数总是可以访问其外部函数当中声明的变量，当通过调用一个外部函数返回的一个内部函数后，即使该外部函数已经执行结束，但是内部函数引用外部函数的变量依然保持在内存中，我们把这些变量的集合叫闭包。

  闭包的回收：
  1. 如果引用闭包函数是一个全局变量，那么这个闭包就会一直保持到页面关闭（造成内存泄漏）
  2. 如果引用闭包函数的是一个局部变量，等函数销毁后，js垃圾回收机制下一次到来时，判断闭包这一块内容已经不再使用
栈是有容量限制的，超过最大数量后就会出现栈溢出的错误。